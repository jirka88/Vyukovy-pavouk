@page "/"
@layout UserLayout
@using Azure.Core
@using Microsoft.Graph
@using Newtonsoft.Json;
@using vyukovy_pavouk.Components;
@using vyukovy_pavouk.Data
@inject TeamsFx teamsfx
@inject MicrosoftTeams MicrosoftTeams
@inject HttpClient Http
@inject NavigationManager MyNavigationManager
@inject IUserToken UserToken
@inject IGroupToken GroupToken
@inject Solutaris.InfoWARE.ProtectedBrowserStorage.Services.IIWSessionStorageService sessionStorage

@if (IsLoaded) {
	<h1 class="text-center py-2 pb-4">Obsah</h1>
	<div class="d-flex flex-column justify-content-center align-items-center gap-3">
		@if(Kapitoly.Count() > 0) {
			@if(UserToken.Profile.JobTitle != null || UserToken.Profile.JobTitle == "Administrátor") {
				//zobrazení kapitol pro učitele 
				@foreach (var kapitola in Kapitoly)
				{										
						<Kapitola_ucitel ID="@kapitola.Id" Nazev="@kapitola.Název" Perex="@kapitola.Perex" />			
				}
			}
			//zobrazení kapitol pro studenta 
			else {
				@foreach (var kapitola in Kapitoly)
				{										
					int Kontrola = Kontroluj(kapitola);
					@if (Kontrola == 1)
					{
						<Kapitola_splneno ID="@kapitola.Id" Nazev="@kapitola.Název" Perex="@kapitola.Perex" Prerekvizita="@kapitola.KapitolaPrerekvizita[0]"/>
					}
					else if(Kontrola == 2) {
						<Kapitola_odemceno ID="@kapitola.Id" Nazev="@kapitola.Název" Perex="@kapitola.Perex" Prerekvizita="@kapitola.KapitolaPrerekvizita[0]" Uspech="false"  />
					}
					else if (Kontrola == 3)
					{
						<Kapitola_odemceno ID="@kapitola.Id" Nazev="@kapitola.Název" Perex="@kapitola.Perex" Prerekvizita="@kapitola.KapitolaPrerekvizita[0]" Uspech="true"  />
					}
					
					else
					{				
						PrerekvizityShow(kapitola);
						<Kapitola_uzavreno ID="@kapitola.Id" Nazev="@kapitola.Název" Perex="@kapitola.Perex" Prerekvizity="@hledanePrerekvizity" />
						
					}

				}
			}
			
		}
		else {
			<h4 class="text-center py-2 pb-4">Zatím není vytvořena žádná kapitola!</h4>
			<svg class="d-flex justify-content-center align-items-center" id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200" viewBox="0, 0, 400,400"><g id="svgg"><path id="path0" d="M108.622 7.324 C 108.194 7.586,107.597 7.980,107.295 8.200 C 106.867 8.512,99.351 15.976,91.290 24.095 C 90.391 25.001,75.139 40.253,74.093 41.293 C 73.223 42.157,58.966 56.413,57.745 57.638 C 57.335 58.050,54.075 61.266,50.500 64.784 C 46.925 68.303,44.000 71.456,44.000 71.791 C 44.000 72.126,43.820 72.400,43.600 72.400 C 42.955 72.400,43.055 340.958,43.700 342.083 C 45.314 344.899,44.836 344.800,56.782 344.800 L 67.600 344.800 67.600 355.522 L 67.600 366.244 68.954 367.722 L 70.308 369.200 173.554 369.200 C 242.118 369.200,276.800 369.066,276.800 368.800 C 276.800 368.580,277.160 368.400,277.600 368.400 C 278.133 368.400,278.400 368.133,278.400 367.600 C 278.400 367.160,278.580 366.800,278.800 366.800 C 279.496 366.800,279.233 364.032,278.376 362.354 C 276.849 359.360,285.767 359.600,176.213 359.600 L 77.600 359.600 77.600 352.243 C 77.600 345.903,77.687 344.852,78.233 344.643 C 78.581 344.509,117.781 344.400,165.344 344.400 C 260.663 344.400,252.848 344.614,254.216 341.969 C 255.015 340.425,254.407 337.978,252.936 336.821 L 251.892 336.000 153.046 335.994 C 98.681 335.991,53.975 335.845,53.699 335.670 C 53.300 335.416,53.219 309.413,53.299 206.976 L 53.400 78.600 83.091 78.400 L 112.782 78.200 113.891 77.091 L 115.000 75.982 115.200 46.291 L 115.400 16.600 202.400 16.600 L 289.400 16.600 289.600 149.068 L 289.800 281.536 290.709 282.504 C 292.717 284.640,296.411 284.533,297.686 282.301 C 298.100 281.574,298.239 258.136,298.400 161.200 L 298.600 41.000 305.900 40.891 C 309.915 40.831,313.244 40.831,313.298 40.891 C 313.352 40.951,313.487 100.066,313.598 172.258 C 313.799 302.806,313.804 303.521,314.600 304.415 C 316.064 306.059,320.800 307.611,320.800 306.447 C 320.800 306.252,321.160 305.999,321.600 305.884 C 322.040 305.769,322.400 305.388,322.400 305.037 C 322.400 304.687,322.580 304.400,322.800 304.400 C 323.066 304.400,323.200 258.994,323.200 168.982 L 323.200 33.564 322.278 32.682 C 320.350 30.838,320.091 30.800,309.605 30.800 L 299.600 30.800 299.600 21.224 C 299.600 15.271,299.449 11.554,299.200 11.400 C 298.980 11.264,298.800 10.746,298.800 10.249 C 298.800 9.268,297.161 7.600,296.197 7.600 C 295.869 7.600,295.600 7.420,295.600 7.200 C 295.600 6.577,109.640 6.700,108.622 7.324 M106.303 46.823 L 106.200 69.400 83.300 69.503 C 70.705 69.560,60.400 69.471,60.400 69.305 C 60.400 68.698,105.788 23.628,106.093 23.933 C 106.265 24.105,106.360 34.406,106.303 46.823 M143.038 35.411 C 139.907 37.044,140.021 41.356,143.240 43.020 C 144.707 43.780,259.859 43.906,261.326 43.150 C 265.023 41.246,265.028 36.579,261.336 35.175 C 259.471 34.466,144.410 34.695,143.038 35.411 M142.291 60.029 C 139.520 62.313,140.566 66.653,144.056 67.351 C 145.682 67.676,259.118 67.676,260.744 67.351 C 264.234 66.653,265.280 62.313,262.509 60.029 L 261.018 58.800 202.400 58.800 L 143.782 58.800 142.291 60.029 M197.800 83.574 C 194.324 85.013,194.627 89.906,198.287 91.455 C 199.947 92.158,259.237 92.269,261.074 91.573 C 264.155 90.406,265.068 87.043,262.967 84.600 L 261.935 83.400 230.268 83.322 C 212.850 83.279,198.240 83.392,197.800 83.574 M197.515 108.079 C 195.001 109.537,194.582 112.904,196.670 114.866 L 197.665 115.800 229.800 115.800 L 261.935 115.800 262.967 114.600 C 265.068 112.157,264.155 108.794,261.074 107.627 C 258.545 106.668,199.220 107.091,197.515 108.079 M182.200 135.025 C 179.587 135.270,174.345 136.024,172.200 136.463 C 169.053 137.108,164.255 138.321,163.000 138.790 C 162.560 138.955,161.480 139.306,160.600 139.571 C 159.720 139.836,158.550 140.245,158.000 140.480 C 157.450 140.715,156.640 141.039,156.200 141.200 C 116.547 155.721,91.758 200.382,99.584 243.200 C 100.644 249.003,102.913 257.333,103.663 258.180 C 103.849 258.389,104.000 258.796,104.000 259.084 C 104.000 261.664,112.067 276.247,117.119 282.800 C 126.029 294.358,140.759 306.076,152.001 310.550 C 152.990 310.943,154.340 311.501,155.000 311.789 C 157.795 313.008,161.070 314.144,164.800 315.189 C 165.790 315.466,167.050 315.833,167.600 316.004 C 168.706 316.349,171.630 316.920,175.600 317.566 C 188.370 319.644,199.889 319.153,212.400 315.996 C 214.307 315.515,221.611 313.256,222.600 312.842 C 223.040 312.658,223.850 312.332,224.400 312.118 C 227.425 310.940,236.704 306.093,239.923 304.010 C 244.480 301.060,243.489 300.871,248.187 305.587 L 252.159 309.574 252.268 313.400 C 252.524 322.388,253.137 323.247,275.604 346.067 C 285.062 355.674,292.800 363.805,292.800 364.134 C 292.800 364.682,314.031 386.400,314.567 386.400 C 314.694 386.400,315.541 387.120,316.448 388.000 C 317.355 388.880,318.345 389.600,318.648 389.600 C 318.952 389.600,319.200 389.780,319.200 390.000 C 319.200 390.220,319.560 390.400,320.000 390.400 C 320.440 390.400,320.800 390.574,320.800 390.786 C 320.800 390.999,321.700 391.292,322.800 391.438 C 323.900 391.584,324.800 391.860,324.800 392.052 C 324.800 392.243,325.599 392.400,326.576 392.400 C 327.553 392.400,328.464 392.580,328.600 392.800 C 328.736 393.020,330.187 393.200,331.824 393.200 C 333.541 393.200,334.800 393.031,334.800 392.800 C 334.800 392.580,335.790 392.400,337.000 392.400 C 338.210 392.400,339.200 392.220,339.200 392.000 C 339.200 391.780,339.582 391.600,340.050 391.600 C 341.076 391.600,345.600 389.621,345.600 389.172 C 345.600 388.997,345.979 388.734,346.442 388.587 C 347.368 388.293,352.000 383.760,352.000 383.148 C 352.000 382.938,352.360 382.380,352.800 381.908 C 353.240 381.436,353.600 380.813,353.600 380.525 C 353.600 380.236,353.780 380.000,354.000 380.000 C 354.220 380.000,354.400 379.640,354.400 379.200 C 354.400 378.760,354.580 378.400,354.800 378.400 C 355.020 378.400,355.200 377.860,355.200 377.200 C 355.200 376.540,355.362 376.000,355.560 376.000 C 356.327 376.000,357.142 365.382,356.430 364.670 C 356.193 364.433,356.000 363.567,356.000 362.744 C 356.000 361.921,355.820 361.136,355.600 361.000 C 355.380 360.864,355.200 360.409,355.200 359.989 C 355.200 359.568,354.857 358.614,354.438 357.867 C 354.018 357.120,353.433 356.082,353.138 355.559 C 352.842 355.036,352.285 354.316,351.900 353.957 C 351.515 353.599,351.200 353.106,351.200 352.861 C 351.200 352.134,318.806 319.965,318.197 320.087 C 317.890 320.149,311.915 314.518,304.919 307.574 C 288.180 290.957,285.912 289.443,277.000 288.935 L 273.000 288.707 269.100 284.861 C 265.250 281.065,264.717 280.165,265.703 279.129 C 266.270 278.532,269.681 272.931,271.507 269.600 C 273.791 265.431,276.999 257.418,278.393 252.400 C 278.668 251.410,279.033 250.150,279.204 249.600 C 279.501 248.644,280.087 245.876,280.815 242.000 C 282.465 233.201,282.431 219.910,280.733 210.800 C 280.067 207.225,279.521 204.667,279.197 203.600 C 279.030 203.050,278.674 201.790,278.407 200.800 C 278.140 199.810,277.760 198.687,277.561 198.305 C 277.362 197.923,277.200 197.284,277.200 196.885 C 277.200 196.486,277.057 195.989,276.882 195.780 C 276.707 195.571,276.322 194.680,276.028 193.800 C 274.115 188.085,266.263 173.802,263.604 171.200 C 263.492 171.090,262.777 170.190,262.016 169.200 C 253.116 157.629,238.757 147.009,224.100 141.159 C 223.605 140.962,222.795 140.632,222.300 140.426 C 218.444 138.825,211.536 137.059,203.400 135.595 C 201.006 135.164,185.236 134.740,182.200 135.025 M199.825 144.185 C 202.231 144.507,205.010 144.939,206.000 145.146 C 206.990 145.352,208.700 145.707,209.800 145.935 C 217.091 147.445,227.738 152.037,235.304 156.934 C 252.817 168.268,266.099 186.841,270.750 206.500 C 272.801 215.165,272.987 216.854,272.987 226.800 C 272.987 236.746,272.801 238.435,270.750 247.100 C 265.359 269.887,248.369 291.021,227.200 301.276 C 214.348 307.502,204.408 309.768,190.000 309.758 C 175.461 309.747,165.298 307.384,152.600 301.062 C 139.261 294.420,125.520 281.718,118.782 269.800 C 107.058 249.063,103.996 227.494,109.667 205.600 C 111.578 198.225,113.912 192.639,118.836 183.661 C 124.321 173.661,137.798 160.662,149.400 154.183 C 152.964 152.193,159.340 149.200,160.015 149.200 C 160.233 149.200,160.723 149.029,161.105 148.819 C 163.697 147.397,173.572 145.002,180.800 144.044 C 185.043 143.481,195.120 143.556,199.825 144.185 M180.800 160.249 C 121.886 168.198,102.404 242.752,149.418 280.346 C 176.162 301.732,218.446 297.321,240.916 270.800 C 281.059 223.422,242.202 151.965,180.800 160.249 M199.269 169.237 C 215.783 172.622,230.110 181.354,237.061 192.269 C 237.457 192.891,237.900 193.490,238.044 193.600 C 238.317 193.807,239.075 195.095,241.642 199.708 C 255.552 224.713,247.123 258.665,222.981 274.880 C 197.440 292.035,165.080 287.271,144.760 263.365 C 139.771 257.496,134.728 246.919,133.238 239.200 C 133.005 237.990,132.630 236.046,132.407 234.880 C 132.183 233.714,132.000 230.078,132.000 226.800 C 132.000 223.522,132.183 219.886,132.407 218.720 C 132.630 217.554,133.005 215.610,133.238 214.400 C 135.592 202.204,143.992 188.811,154.202 180.973 C 162.231 174.808,169.469 171.621,180.800 169.261 C 183.344 168.731,196.717 168.713,199.269 169.237 M164.541 199.971 C 163.090 200.856,162.233 202.961,162.633 204.660 C 162.815 205.432,166.269 209.187,173.341 216.300 L 183.780 226.800 173.331 237.300 C 165.334 245.337,162.819 248.101,162.614 249.081 C 161.997 252.018,164.862 254.778,167.929 254.202 C 169.148 253.974,170.997 252.322,179.502 243.865 C 185.069 238.329,189.818 233.734,190.055 233.653 C 190.291 233.571,195.101 238.097,200.742 243.708 C 206.384 249.320,211.421 254.039,211.935 254.194 C 215.555 255.287,218.876 251.268,217.158 247.874 C 216.915 247.393,212.198 242.462,206.676 236.915 C 201.154 231.369,196.718 226.743,196.818 226.636 C 196.918 226.529,201.324 222.068,206.609 216.721 C 217.358 205.846,217.600 205.559,217.600 203.673 C 217.600 200.947,215.769 199.200,212.912 199.200 C 211.550 199.200,210.819 199.840,200.821 209.793 L 190.181 220.387 180.190 210.367 C 168.282 198.423,167.706 198.041,164.541 199.971 " stroke="none" fill="#2a3040" fill-rule="evenodd"></path><path id="path1" d="M180.800 144.044 C 173.572 145.002,163.697 147.397,161.105 148.819 C 160.723 149.029,160.233 149.200,160.015 149.200 C 159.340 149.200,152.964 152.193,149.400 154.183 C 137.798 160.662,124.321 173.661,118.836 183.661 C 113.912 192.639,111.578 198.225,109.667 205.600 C 103.996 227.494,107.058 249.063,118.782 269.800 C 128.851 287.609,149.440 302.632,170.800 307.753 C 180.515 310.083,194.164 310.538,203.800 308.856 C 223.735 305.374,241.106 295.478,253.762 280.394 C 261.739 270.886,268.048 258.522,270.750 247.100 C 272.801 238.435,272.987 236.746,272.987 226.800 C 272.987 216.854,272.801 215.165,270.750 206.500 C 263.889 177.499,238.002 151.776,209.800 145.935 C 208.700 145.707,206.990 145.352,206.000 145.146 C 199.135 143.714,187.215 143.193,180.800 144.044 M198.800 160.175 C 211.622 161.885,223.249 166.884,232.707 174.754 C 270.460 206.173,263.548 265.496,219.600 287.230 C 197.383 298.217,168.185 295.353,149.418 280.346 C 138.359 271.503,130.953 261.283,126.671 248.956 C 110.300 201.831,149.483 153.602,198.800 160.175 M181.400 169.200 L 180.200 169.505 181.600 169.530 C 182.370 169.543,183.720 169.405,184.600 169.223 L 186.200 168.892 184.400 168.893 C 183.410 168.894,182.060 169.032,181.400 169.200 M195.800 169.223 C 198.018 169.682,200.251 169.665,198.800 169.200 C 198.250 169.024,196.990 168.883,196.000 168.886 L 194.200 168.892 195.800 169.223 M177.400 170.000 L 176.600 170.344 177.400 170.332 C 177.840 170.326,178.650 170.176,179.200 170.000 L 180.200 169.680 179.200 169.668 C 178.650 169.662,177.840 169.811,177.400 170.000 M201.000 170.000 C 201.440 170.189,202.250 170.344,202.800 170.344 C 203.712 170.344,203.729 170.313,203.000 170.000 C 202.560 169.811,201.750 169.656,201.200 169.656 C 200.288 169.656,200.271 169.687,201.000 170.000 M173.058 171.052 C 171.990 171.380,171.211 171.744,171.328 171.861 C 171.525 172.059,173.541 171.521,175.400 170.775 C 176.780 170.222,175.125 170.417,173.058 171.052 M204.600 170.800 C 205.040 170.989,205.760 171.144,206.200 171.144 L 207.000 171.144 206.200 170.800 C 205.760 170.611,205.040 170.456,204.600 170.456 L 203.800 170.456 204.600 170.800 M207.600 171.600 C 207.930 171.813,208.470 171.988,208.800 171.988 C 209.333 171.988,209.333 171.945,208.800 171.600 C 208.470 171.387,207.930 171.212,207.600 171.212 C 207.067 171.212,207.067 171.255,207.600 171.600 M169.200 172.400 C 168.667 172.745,168.667 172.788,169.200 172.788 C 169.530 172.788,170.070 172.613,170.400 172.400 C 170.933 172.055,170.933 172.012,170.400 172.012 C 170.070 172.012,169.530 172.187,169.200 172.400 M166.400 173.600 C 165.630 174.022,165.197 174.374,165.439 174.383 C 165.940 174.402,168.400 173.229,168.400 172.971 C 168.400 172.646,167.794 172.837,166.400 173.600 M216.173 175.185 C 228.182 181.331,238.591 192.319,243.094 203.600 C 243.313 204.150,243.681 205.050,243.910 205.600 C 244.140 206.150,244.438 206.941,244.573 207.357 C 244.708 207.774,244.913 208.021,245.027 207.906 C 245.332 207.602,243.280 202.651,241.593 199.619 C 239.071 195.087,238.315 193.806,238.044 193.600 C 237.900 193.490,237.457 192.891,237.061 192.269 C 232.683 185.394,219.326 174.970,212.400 173.024 C 211.850 172.869,213.548 173.842,216.173 175.185 M162.597 175.458 C 154.400 179.802,145.894 187.759,140.744 195.900 C 140.292 196.615,140.119 197.200,140.361 197.200 C 140.602 197.200,140.800 197.007,140.800 196.772 C 140.800 196.367,143.065 192.826,143.597 192.400 C 143.734 192.290,144.106 191.824,144.423 191.365 C 146.365 188.554,150.492 184.455,155.209 180.654 C 157.086 179.142,160.886 176.748,163.700 175.305 C 164.305 174.995,164.800 174.665,164.800 174.571 C 164.800 174.302,164.710 174.338,162.597 175.458 M137.817 201.208 C 136.818 203.246,136.009 205.114,136.019 205.357 C 136.030 205.601,136.924 204.009,138.006 201.820 C 139.088 199.631,139.897 197.764,139.804 197.671 C 139.711 197.578,138.817 199.169,137.817 201.208 M164.955 199.192 C 163.901 199.618,162.395 201.493,162.416 202.354 C 162.424 202.709,162.681 202.427,162.985 201.726 C 163.902 199.618,166.841 198.587,168.926 199.642 C 169.407 199.885,174.390 204.652,180.000 210.234 L 190.200 220.384 200.829 209.792 C 206.676 203.966,211.315 199.200,211.140 199.200 C 210.965 199.200,206.243 203.805,200.648 209.434 C 191.885 218.248,190.372 219.611,189.737 219.258 C 189.332 219.032,184.680 214.502,179.400 209.190 C 168.657 198.383,168.030 197.950,164.955 199.192 M212.500 199.076 C 212.885 199.176,213.515 199.176,213.900 199.076 C 214.285 198.975,213.970 198.893,213.200 198.893 C 212.430 198.893,212.115 198.975,212.500 199.076 M215.432 199.658 C 217.426 200.625,218.236 204.111,216.909 206.011 C 216.529 206.555,211.894 211.374,206.609 216.721 C 201.324 222.068,196.918 226.529,196.818 226.636 C 196.718 226.743,201.154 231.369,206.676 236.915 C 212.198 242.462,216.915 247.393,217.158 247.874 C 218.876 251.268,215.555 255.287,211.935 254.194 C 211.421 254.039,206.384 249.320,200.742 243.708 C 195.101 238.097,190.291 233.571,190.055 233.653 C 189.818 233.734,185.069 238.329,179.502 243.865 C 170.997 252.322,169.148 253.974,167.929 254.202 C 166.004 254.563,163.870 253.545,163.045 251.872 C 162.671 251.113,162.415 250.877,162.409 251.287 C 162.389 252.780,165.076 254.800,167.082 254.800 L 168.937 254.800 179.385 244.400 C 185.131 238.680,189.957 234.000,190.108 234.000 C 190.259 234.000,194.729 238.324,200.042 243.609 C 210.756 254.266,211.382 254.800,213.182 254.800 C 216.065 254.800,218.000 252.692,218.000 249.551 C 218.000 247.878,217.908 247.771,207.517 237.332 L 197.034 226.800 207.517 216.268 L 218.000 205.737 218.000 203.711 C 218.000 201.606,216.441 199.162,215.140 199.227 C 214.843 199.242,214.974 199.436,215.432 199.658 M162.425 204.972 C 162.410 205.450,164.739 208.110,168.555 211.972 C 171.940 215.397,176.639 220.161,178.996 222.557 L 183.281 226.913 172.841 237.359 C 165.941 244.263,162.409 248.076,162.425 248.603 C 162.447 249.275,162.512 249.244,162.842 248.400 C 163.057 247.850,167.859 242.765,173.514 237.100 L 183.794 226.800 173.514 216.500 C 167.859 210.835,163.057 205.750,162.842 205.200 C 162.526 204.392,162.446 204.348,162.425 204.972 M135.058 207.704 C 134.696 208.652,134.413 209.691,134.429 210.013 C 134.445 210.336,134.805 209.624,135.228 208.432 C 136.145 205.848,136.001 205.233,135.058 207.704 M245.228 209.076 C 245.213 209.558,245.380 210.064,245.600 210.200 C 246.073 210.492,246.073 210.101,245.600 209.000 C 245.269 208.229,245.255 208.231,245.228 209.076 M133.865 211.470 C 133.751 211.871,133.467 213.190,133.235 214.400 C 133.003 215.610,132.630 217.554,132.407 218.720 C 131.900 221.363,131.873 232.100,132.368 234.680 C 132.570 235.736,132.956 237.770,133.226 239.200 C 133.496 240.630,133.883 242.070,134.086 242.400 C 134.348 242.826,134.388 242.710,134.222 242.000 C 131.933 232.169,131.865 220.912,134.046 212.660 C 134.444 211.151,134.274 210.033,133.865 211.470 M246.056 211.800 C 246.056 212.240,246.211 212.960,246.400 213.400 L 246.744 214.200 246.744 213.400 C 246.744 212.960,246.589 212.240,246.400 211.800 L 246.056 211.000 246.056 211.800 M246.868 215.400 C 246.862 216.060,247.011 216.960,247.200 217.400 C 247.670 218.494,247.670 216.667,247.200 215.200 C 246.888 214.225,246.879 214.230,246.868 215.400 M247.789 226.800 C 247.791 231.431,247.907 234.042,248.056 232.800 C 248.402 229.926,248.403 223.136,248.058 220.600 C 247.907 219.486,247.788 222.231,247.789 226.800 M247.089 236.400 C 246.936 236.950,246.825 237.850,246.842 238.400 C 246.868 239.261,246.926 239.214,247.258 238.060 C 247.470 237.324,247.581 236.424,247.506 236.060 C 247.408 235.594,247.286 235.693,247.089 236.400 M246.288 240.133 C 246.130 240.536,246.011 241.256,246.025 241.733 C 246.049 242.556,246.071 242.550,246.440 241.625 C 246.654 241.089,246.773 240.369,246.703 240.025 C 246.599 239.511,246.525 239.530,246.288 240.133 M245.473 243.353 C 245.323 243.745,245.211 244.366,245.225 244.733 C 245.242 245.175,245.381 245.074,245.637 244.434 C 245.849 243.903,245.961 243.282,245.885 243.054 C 245.809 242.827,245.624 242.961,245.473 243.353 M134.458 243.800 C 134.459 244.240,134.806 245.320,135.229 246.200 C 136.021 247.847,135.882 246.878,134.971 244.400 C 134.658 243.548,134.457 243.313,134.458 243.800 M244.573 246.243 C 244.301 247.082,243.710 248.528,243.079 249.899 C 242.852 250.394,242.763 250.897,242.883 251.017 C 243.003 251.136,243.581 250.035,244.168 248.568 C 244.755 247.102,245.142 245.809,245.027 245.694 C 244.913 245.579,244.708 245.826,244.573 246.243 M136.800 250.210 C 136.800 251.370,142.323 260.498,144.760 263.365 C 151.368 271.139,165.368 281.322,169.254 281.180 C 169.554 281.169,168.990 280.780,168.000 280.315 C 162.491 277.727,160.031 276.407,159.025 275.500 C 158.598 275.115,158.013 274.800,157.725 274.800 C 157.436 274.800,157.200 274.659,157.200 274.486 C 157.200 274.314,156.681 273.866,156.046 273.491 C 150.734 270.353,142.292 260.529,138.770 253.385 C 137.263 250.330,136.800 249.583,136.800 250.210 M240.893 254.321 C 238.402 259.425,233.668 265.378,228.164 270.329 C 225.829 272.429,219.161 277.192,218.532 277.209 C 218.349 277.214,217.750 277.592,217.200 278.050 C 215.485 279.477,220.759 276.465,224.200 274.053 C 227.837 271.503,233.764 265.759,236.431 262.200 C 239.281 258.397,243.200 251.574,242.508 251.621 C 242.339 251.632,241.612 252.847,240.893 254.321 M214.053 279.453 C 213.313 279.776,212.801 280.134,212.916 280.249 C 213.031 280.364,213.816 280.093,214.662 279.647 C 216.435 278.711,216.041 278.586,214.053 279.453 M170.400 281.600 C 170.730 281.813,171.270 281.988,171.600 281.988 C 172.133 281.988,172.133 281.945,171.600 281.600 C 171.270 281.387,170.730 281.212,170.400 281.212 C 169.867 281.212,169.867 281.255,170.400 281.600 M208.800 281.600 C 208.267 281.945,208.267 281.988,208.800 281.988 C 209.130 281.988,209.670 281.813,210.000 281.600 C 210.533 281.255,210.533 281.212,210.000 281.212 C 209.670 281.212,209.130 281.387,208.800 281.600 M172.800 282.400 C 173.130 282.613,173.670 282.788,174.000 282.788 C 174.533 282.788,174.533 282.745,174.000 282.400 C 173.670 282.187,173.130 282.012,172.800 282.012 C 172.267 282.012,172.267 282.055,172.800 282.400 M206.400 282.400 C 205.867 282.745,205.867 282.788,206.400 282.788 C 206.730 282.788,207.270 282.613,207.600 282.400 C 208.133 282.055,208.133 282.012,207.600 282.012 C 207.270 282.012,206.730 282.187,206.400 282.400 M175.400 283.200 C 175.840 283.389,176.650 283.538,177.200 283.532 L 178.200 283.520 177.200 283.200 C 176.650 283.024,175.840 282.874,175.400 282.868 L 174.600 282.856 175.400 283.200 M203.543 282.991 C 203.438 283.096,201.923 283.440,200.176 283.755 C 198.262 284.100,197.556 284.336,198.400 284.348 C 200.061 284.371,206.270 282.902,204.767 282.842 C 204.198 282.819,203.647 282.886,203.543 282.991 M179.000 284.000 C 179.440 284.189,180.520 284.336,181.400 284.326 L 183.000 284.308 181.400 283.977 C 180.520 283.795,179.440 283.648,179.000 283.651 L 178.200 283.656 179.000 284.000 M185.000 284.843 C 187.599 285.216,192.914 285.219,195.200 284.850 C 196.306 284.671,194.301 284.559,190.000 284.558 C 185.590 284.557,183.740 284.663,185.000 284.843 " stroke="none" fill="#ee7349" fill-rule="evenodd"></path><path id="path2" d="M184.000 169.244 C 176.714 170.401,176.439 170.463,171.600 172.018 C 166.141 173.774,159.228 177.416,155.209 180.654 C 150.492 184.455,146.365 188.554,144.423 191.365 C 144.106 191.824,143.734 192.290,143.597 192.400 C 143.089 192.807,140.800 196.358,140.800 196.739 C 140.800 196.956,140.655 197.193,140.478 197.267 C 140.301 197.340,139.243 199.290,138.126 201.600 C 128.169 222.199,131.507 247.951,146.278 264.492 C 149.682 268.304,154.002 272.283,156.046 273.491 C 156.681 273.866,157.200 274.314,157.200 274.486 C 157.200 274.659,157.436 274.800,157.725 274.800 C 158.013 274.800,158.598 275.115,159.025 275.500 C 160.006 276.385,163.501 278.276,167.240 279.944 C 180.083 285.675,198.668 286.047,211.000 280.821 C 217.015 278.271,218.544 277.449,223.040 274.344 C 230.230 269.379,237.302 261.475,240.884 254.400 C 241.608 252.970,242.335 251.740,242.500 251.667 C 242.665 251.593,242.800 251.276,242.800 250.961 C 242.800 250.647,242.959 250.077,243.153 249.695 C 243.488 249.037,243.956 247.928,244.754 245.900 C 245.270 244.591,245.884 242.239,247.237 236.400 C 247.881 233.618,247.937 220.095,247.314 217.600 C 247.067 216.610,246.654 214.720,246.397 213.400 C 246.140 212.080,245.765 210.687,245.565 210.305 C 245.364 209.923,245.200 209.336,245.200 209.000 C 245.200 208.664,245.041 208.077,244.847 207.695 C 244.652 207.313,244.292 206.505,244.047 205.900 C 242.931 203.153,242.651 202.513,241.987 201.200 C 235.081 187.533,222.741 176.642,209.000 172.087 C 200.619 169.308,190.700 168.181,184.000 169.244 M168.874 199.167 C 169.383 199.368,174.120 203.879,179.400 209.190 C 184.680 214.502,189.332 219.032,189.737 219.258 C 190.372 219.611,191.883 218.251,200.628 209.454 C 211.586 198.430,211.928 198.186,214.967 199.189 C 216.935 199.838,218.000 201.469,218.000 203.830 L 218.000 205.737 207.517 216.268 L 197.034 226.800 207.517 237.332 C 217.908 247.771,218.000 247.878,218.000 249.551 C 218.000 252.692,216.065 254.800,213.182 254.800 C 211.382 254.800,210.756 254.266,200.042 243.609 C 194.729 238.324,190.259 234.000,190.108 234.000 C 189.957 234.000,185.131 238.680,179.385 244.400 L 168.937 254.800 167.082 254.800 C 164.291 254.800,162.400 252.817,162.400 249.889 L 162.400 247.806 172.841 237.359 L 183.281 226.913 178.996 222.557 C 176.639 220.161,171.940 215.397,168.555 211.972 L 162.400 205.744 162.400 203.726 C 162.400 200.000,165.487 197.826,168.874 199.167 " stroke="none" fill="#fac343" fill-rule="evenodd"></path><path id="path3" d="M115.867 17.467 C 115.720 17.613,115.599 30.708,115.599 46.567 C 115.597 74.248,115.566 75.450,114.833 76.654 C 113.217 79.304,114.533 79.200,82.538 79.200 L 53.599 79.200 53.699 207.100 L 53.800 335.000 152.818 335.200 C 243.082 335.382,251.922 335.457,252.821 336.046 C 253.752 336.656,254.444 337.713,254.951 339.300 C 255.180 340.016,268.400 340.436,268.400 339.727 C 268.400 339.577,265.818 336.832,262.663 333.627 C 254.064 324.892,252.103 321.334,251.703 313.737 L 251.489 309.674 247.794 305.994 C 243.987 302.203,243.383 301.929,241.902 303.326 C 239.767 305.340,228.712 311.159,223.200 313.170 C 222.430 313.451,221.440 313.835,221.000 314.024 C 209.590 318.917,186.917 320.572,172.346 317.576 C 167.053 316.488,160.999 314.876,159.000 314.022 C 158.560 313.834,157.570 313.451,156.800 313.170 C 154.509 312.334,150.364 310.466,147.800 309.114 C 146.480 308.419,144.996 307.658,144.503 307.425 C 144.010 307.191,143.605 306.865,143.603 306.700 C 143.601 306.535,143.418 306.400,143.196 306.400 C 141.828 306.400,131.754 298.930,127.053 294.430 C 120.023 287.699,111.600 277.448,111.600 275.622 C 111.600 275.390,111.465 275.199,111.300 275.197 C 111.135 275.195,110.797 274.790,110.549 274.297 C 110.300 273.804,109.027 271.330,107.719 268.800 C 104.186 261.967,100.837 252.805,99.823 247.200 C 99.684 246.430,99.394 244.900,99.180 243.800 C 97.319 234.249,97.150 220.307,98.789 211.600 C 100.394 203.075,102.423 196.129,105.098 190.000 C 106.798 186.104,110.062 179.861,110.500 179.667 C 110.665 179.593,110.800 179.312,110.800 179.042 C 110.800 178.772,111.115 178.202,111.500 177.775 C 111.885 177.349,112.453 176.509,112.763 175.908 C 116.448 168.765,129.707 155.590,139.891 148.952 C 144.206 146.140,155.555 140.400,156.801 140.400 C 157.026 140.400,157.523 140.224,157.905 140.009 C 171.071 132.600,205.381 132.637,222.800 140.080 C 223.350 140.315,224.205 140.663,224.700 140.854 C 225.195 141.044,226.005 141.357,226.500 141.549 C 228.953 142.502,237.345 146.876,237.533 147.300 C 237.607 147.465,237.845 147.600,238.063 147.600 C 240.622 147.600,255.470 160.357,261.340 167.600 C 262.677 169.250,263.882 170.690,264.017 170.800 C 265.649 172.127,273.312 185.443,275.181 190.200 C 275.700 191.520,276.277 192.771,276.462 192.980 C 276.648 193.189,276.800 193.686,276.800 194.085 C 276.800 194.484,276.971 195.123,277.181 195.505 C 278.061 197.109,279.900 203.582,280.958 208.800 C 283.520 221.440,282.932 239.428,279.597 250.400 C 279.430 250.950,279.071 252.210,278.801 253.200 C 278.530 254.190,278.167 255.360,277.995 255.800 C 277.822 256.240,277.464 257.230,277.200 258.000 C 275.128 264.033,270.091 273.957,266.713 278.661 L 265.444 280.428 269.214 284.214 L 272.984 288.000 275.192 288.000 C 277.074 288.000,279.369 288.389,283.906 289.478 C 284.404 289.598,284.910 289.854,285.030 290.048 C 285.149 290.241,285.516 290.400,285.846 290.400 C 286.632 290.400,291.100 293.433,292.497 294.915 C 293.953 296.459,294.050 296.107,293.913 289.784 C 293.808 284.971,293.744 284.600,293.000 284.464 C 291.358 284.165,289.718 282.493,289.252 280.643 C 288.920 279.324,288.800 244.019,288.800 148.023 L 288.800 17.200 202.467 17.200 C 154.983 17.200,116.013 17.320,115.867 17.467 M262.942 35.603 C 265.427 37.785,265.082 41.508,262.232 43.246 C 260.717 44.169,144.802 44.453,143.074 43.537 C 139.988 41.902,139.336 37.817,141.814 35.641 L 143.228 34.400 202.400 34.400 L 261.572 34.400 262.942 35.603 M263.033 59.755 C 265.284 61.701,265.302 64.618,263.075 66.659 L 261.612 68.000 202.786 68.000 C 153.194 68.000,143.791 67.912,142.879 67.441 C 139.672 65.783,139.141 62.024,141.790 59.734 L 143.333 58.400 202.400 58.400 L 261.467 58.400 263.033 59.755 M262.366 83.382 C 264.696 84.587,265.422 88.586,263.667 90.541 C 261.957 92.446,262.799 92.400,229.558 92.400 L 198.276 92.400 196.933 91.376 C 194.173 89.271,193.983 85.895,196.506 83.772 L 197.661 82.800 229.451 82.800 C 256.498 82.800,261.408 82.887,262.366 83.382 M262.874 108.000 C 265.627 110.270,265.209 114.148,262.018 115.942 L 260.465 116.814 229.262 116.707 C 198.332 116.601,198.048 116.593,196.929 115.765 C 194.022 113.615,193.963 110.278,196.791 107.947 L 198.182 106.800 229.800 106.800 L 261.418 106.800 262.874 108.000 " stroke="none" fill="#f3f3f3" fill-rule="evenodd"></path><path id="path4" d="M115.391 16.899 C 115.290 17.175,115.160 30.581,115.103 46.691 L 115.000 75.982 113.891 77.091 L 112.782 78.200 83.091 78.400 L 53.400 78.600 53.299 206.976 C 53.219 309.413,53.300 335.416,53.699 335.670 C 53.975 335.845,98.681 335.991,153.046 335.994 L 251.892 336.000 252.936 336.821 C 254.407 337.978,255.015 340.425,254.216 341.969 C 252.848 344.614,260.663 344.400,165.344 344.400 C 117.781 344.400,78.581 344.509,78.233 344.643 C 77.687 344.852,77.600 345.903,77.600 352.243 L 77.600 359.600 176.213 359.600 C 286.516 359.600,276.891 359.320,278.474 362.577 L 279.359 364.400 286.080 364.400 C 290.631 364.400,292.800 364.260,292.800 363.967 C 292.800 363.729,285.062 355.674,275.604 346.067 C 253.137 323.247,252.524 322.388,252.268 313.400 L 252.159 309.574 248.187 305.587 C 243.489 300.871,244.480 301.060,239.923 304.010 C 236.704 306.093,227.200 311.057,224.500 312.064 C 224.005 312.249,223.195 312.575,222.700 312.789 C 217.936 314.846,208.079 317.220,199.600 318.351 L 197.000 318.698 199.073 318.749 C 202.926 318.844,216.664 315.883,221.000 314.024 C 221.440 313.835,222.430 313.451,223.200 313.170 C 228.712 311.159,239.767 305.340,241.902 303.326 C 243.383 301.929,243.987 302.203,247.794 305.994 L 251.489 309.674 251.703 313.737 C 252.103 321.334,254.064 324.892,262.663 333.627 C 265.818 336.832,268.400 339.577,268.400 339.727 C 268.400 340.436,255.180 340.016,254.951 339.300 C 254.444 337.713,253.752 336.656,252.821 336.046 C 251.922 335.457,243.082 335.382,152.818 335.200 L 53.800 335.000 53.699 207.100 L 53.599 79.200 82.538 79.200 C 114.196 79.200,113.145 79.276,114.715 76.881 C 115.341 75.926,115.417 73.324,115.600 46.618 L 115.800 17.400 202.300 17.299 L 288.800 17.198 288.800 148.022 C 288.800 244.019,288.920 279.324,289.252 280.643 C 289.718 282.493,291.358 284.165,293.000 284.464 C 293.744 284.600,293.808 284.971,293.913 289.784 C 294.050 296.107,293.953 296.459,292.497 294.915 C 291.100 293.433,286.632 290.400,285.846 290.400 C 285.516 290.400,285.149 290.241,285.030 290.048 C 284.910 289.854,284.404 289.598,283.906 289.478 C 279.369 288.389,277.074 288.000,275.192 288.000 L 272.984 288.000 269.214 284.214 L 265.444 280.428 266.713 278.661 C 270.091 273.957,275.128 264.033,277.200 258.000 C 277.464 257.230,277.822 256.240,277.995 255.800 C 278.167 255.360,278.530 254.190,278.801 253.200 C 279.071 252.210,279.430 250.950,279.597 250.400 C 282.932 239.428,283.520 221.440,280.958 208.800 C 279.900 203.582,278.061 197.109,277.181 195.505 C 276.971 195.123,276.800 194.484,276.800 194.085 C 276.800 193.686,276.648 193.189,276.462 192.980 C 276.277 192.771,275.700 191.520,275.181 190.200 C 273.312 185.443,265.649 172.127,264.017 170.800 C 263.882 170.690,262.677 169.250,261.340 167.600 C 255.470 160.357,240.622 147.600,238.063 147.600 C 237.845 147.600,237.607 147.465,237.533 147.300 C 237.345 146.876,229.150 142.604,226.400 141.496 C 225.850 141.274,224.950 140.913,224.400 140.693 C 223.850 140.473,223.040 140.149,222.600 139.973 C 204.189 132.603,171.033 132.622,157.905 140.009 C 157.523 140.224,157.026 140.400,156.801 140.400 C 155.555 140.400,144.206 146.140,139.891 148.952 C 129.707 155.590,116.448 168.765,112.763 175.908 C 112.453 176.509,111.885 177.349,111.500 177.775 C 111.115 178.202,110.800 178.772,110.800 179.042 C 110.800 179.312,110.665 179.593,110.500 179.667 C 110.171 179.813,108.961 181.994,106.989 186.000 C 104.374 191.310,102.877 195.201,101.292 200.808 C 99.555 206.948,98.645 211.606,97.972 217.800 C 97.456 222.553,97.681 234.137,98.385 239.000 C 99.200 244.630,99.462 245.995,99.784 246.294 C 99.965 246.462,99.996 245.880,99.854 245.000 C 96.230 222.656,98.475 205.079,107.337 186.400 C 116.357 167.390,135.742 149.039,154.300 141.944 C 155.403 141.523,156.901 140.924,158.100 140.426 C 158.595 140.221,159.720 139.836,160.600 139.571 C 161.480 139.306,162.560 138.955,163.000 138.790 C 163.758 138.507,164.914 138.192,168.600 137.263 C 170.218 136.855,172.302 136.442,177.400 135.518 C 181.231 134.823,198.755 134.829,203.000 135.527 C 210.044 136.683,217.999 138.691,222.200 140.373 C 226.202 141.975,228.218 142.875,231.614 144.577 C 243.112 150.338,254.772 159.783,262.016 169.200 C 262.777 170.190,263.492 171.090,263.604 171.200 C 266.263 173.802,274.115 188.085,276.028 193.800 C 276.322 194.680,276.707 195.571,276.882 195.780 C 277.057 195.989,277.200 196.486,277.200 196.885 C 277.200 197.284,277.362 197.923,277.561 198.305 C 277.760 198.687,278.140 199.810,278.407 200.800 C 278.674 201.790,279.033 203.050,279.204 203.600 C 279.501 204.556,280.087 207.324,280.815 211.200 C 282.465 219.999,282.431 233.290,280.733 242.400 C 280.067 245.975,279.521 248.533,279.197 249.600 C 279.030 250.150,278.668 251.410,278.393 252.400 C 276.999 257.418,273.791 265.431,271.507 269.600 C 269.681 272.931,266.270 278.532,265.703 279.129 C 264.717 280.165,265.250 281.065,269.100 284.861 L 273.000 288.707 277.000 288.935 C 285.922 289.443,288.183 290.955,304.982 307.646 C 312.012 314.631,317.907 320.257,318.082 320.149 C 318.257 320.041,318.400 316.940,318.400 313.257 L 318.400 306.561 317.069 306.079 C 316.337 305.815,315.302 305.134,314.769 304.567 L 313.800 303.536 313.598 172.268 C 313.487 100.071,313.352 40.951,313.298 40.891 C 313.244 40.831,309.915 40.831,305.900 40.891 L 298.600 41.000 298.400 161.200 C 298.239 258.136,298.100 281.574,297.686 282.301 C 296.411 284.533,292.717 284.640,290.709 282.504 L 289.800 281.536 289.600 149.068 L 289.400 16.600 202.488 16.499 C 133.165 16.419,115.538 16.500,115.391 16.899 M83.089 46.311 C 70.610 58.791,60.400 69.138,60.400 69.305 C 60.400 69.471,70.705 69.560,83.300 69.503 L 106.200 69.400 106.303 46.823 C 106.360 34.406,106.265 24.105,106.093 23.933 C 105.920 23.760,95.568 33.830,83.089 46.311 M141.814 35.641 C 139.336 37.817,139.988 41.902,143.074 43.537 C 144.802 44.453,260.717 44.169,262.232 43.246 C 265.082 41.508,265.427 37.785,262.942 35.603 L 261.572 34.400 202.400 34.400 L 143.228 34.400 141.814 35.641 M261.336 35.175 C 265.028 36.579,265.023 41.246,261.326 43.150 C 259.859 43.906,144.707 43.780,143.240 43.020 C 140.021 41.356,139.907 37.044,143.038 35.411 C 144.410 34.695,259.471 34.466,261.336 35.175 M141.790 59.734 C 139.141 62.024,139.672 65.783,142.879 67.441 C 143.791 67.912,153.194 68.000,202.786 68.000 L 261.612 68.000 263.075 66.659 C 265.302 64.618,265.284 61.701,263.033 59.755 L 261.467 58.400 202.400 58.400 L 143.333 58.400 141.790 59.734 M262.509 60.029 C 265.280 62.313,264.234 66.653,260.744 67.351 C 259.118 67.676,145.682 67.676,144.056 67.351 C 140.566 66.653,139.520 62.313,142.291 60.029 L 143.782 58.800 202.400 58.800 L 261.018 58.800 262.509 60.029 M196.506 83.772 C 193.983 85.895,194.173 89.271,196.933 91.376 L 198.276 92.400 229.558 92.400 C 262.799 92.400,261.957 92.446,263.667 90.541 C 264.748 89.337,264.975 87.089,264.183 85.421 C 262.876 82.665,264.658 82.800,229.451 82.800 L 197.661 82.800 196.506 83.772 M262.967 84.600 C 265.068 87.043,264.155 90.406,261.074 91.573 C 259.237 92.269,199.947 92.158,198.287 91.455 C 194.627 89.906,194.324 85.013,197.800 83.574 C 198.240 83.392,212.850 83.279,230.268 83.322 L 261.935 83.400 262.967 84.600 M196.791 107.947 C 193.963 110.278,194.022 113.615,196.929 115.765 C 198.048 116.593,198.332 116.601,229.262 116.707 L 260.465 116.814 262.018 115.942 C 265.209 114.148,265.627 110.270,262.874 108.000 L 261.418 106.800 229.800 106.800 L 198.182 106.800 196.791 107.947 M261.074 107.627 C 264.155 108.794,265.068 112.157,262.967 114.600 L 261.935 115.800 229.800 115.800 L 197.665 115.800 196.670 114.866 C 194.582 112.904,195.001 109.537,197.515 108.079 C 199.220 107.091,258.545 106.668,261.074 107.627 M100.000 247.584 C 100.000 250.501,104.137 261.873,107.719 268.800 C 109.027 271.330,110.300 273.804,110.549 274.297 C 110.797 274.790,111.135 275.195,111.300 275.197 C 111.465 275.199,111.600 275.390,111.600 275.622 C 111.600 277.448,120.023 287.699,127.053 294.430 C 131.754 298.930,141.828 306.400,143.196 306.400 C 143.418 306.400,143.601 306.535,143.603 306.700 C 143.605 306.865,144.010 307.191,144.503 307.425 C 144.996 307.658,146.480 308.419,147.800 309.114 C 150.364 310.466,154.509 312.334,156.800 313.170 C 157.570 313.451,158.560 313.834,159.000 314.022 C 159.866 314.392,163.013 315.340,166.200 316.190 C 170.710 317.394,176.803 318.461,180.000 318.608 L 183.400 318.765 180.800 318.384 C 174.858 317.516,169.142 316.485,167.600 316.004 C 167.050 315.833,165.790 315.466,164.800 315.189 C 161.070 314.144,157.795 313.008,155.000 311.789 C 154.340 311.501,152.990 310.943,152.001 310.550 C 140.759 306.076,126.029 294.358,117.119 282.800 C 112.067 276.247,104.000 261.664,104.000 259.084 C 104.000 258.796,103.849 258.389,103.663 258.180 C 103.284 257.751,101.949 253.505,100.967 249.600 C 100.242 246.718,100.000 246.213,100.000 247.584 M187.318 319.098 C 189.033 319.173,191.733 319.172,193.318 319.097 C 194.903 319.021,193.500 318.959,190.200 318.960 C 186.900 318.961,185.603 319.022,187.318 319.098 " stroke="none" fill="#9ba3ab" fill-rule="evenodd"></path></g></svg>
		}
		

	</div>
}
else {
	<div style="display: flex; justify-content: center; align-items: center; height: 50vh;">
		<FluentProgressRing/>
	</div>
}
<link rel="stylesheet" href="css/Main-Kapitoly.css" />

@code {

	private bool IsLoaded = false;
	private Skupina skupina = new Skupina();
	private Student student = new Student();
	private List<vyukovy_pavouk.Data.Kapitola> Kapitoly;
	private List<KapitolaPrerekvizita> Prerekvizity = new List<KapitolaPrerekvizita>();

	private List<vyukovy_pavouk.Data.Kapitola> hledanePrerekvizity = new List<vyukovy_pavouk.Data.Kapitola>();
	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if(firstRender) {

			await UserToken.GetUserAsync(sessionStorage);
			await GroupToken.GetGroupAsync(MicrosoftTeams);
			if(UserToken.Profile == null)  {
				MyNavigationManager.NavigateTo("/tab");
			}
			else {
				skupina = await Http.GetFromJsonAsync<Skupina>($"{MyNavigationManager.BaseUri}api/Skupina/" + (GroupToken.teamsContext.TeamId).ToString());
				Kapitoly = await Http.GetFromJsonAsync<List<vyukovy_pavouk.Data.Kapitola>>($"{MyNavigationManager.BaseUri}api/Kapitoly/" + (Convert.ToInt32(skupina.PredmetID)));
				//pokud je student zjistí informace o progresu atd..
				if( UserToken.Profile.JobTitle == null || UserToken.Profile.JobTitle == "Žák školy") {
					student = await Http.GetFromJsonAsync<Student>($"{MyNavigationManager.BaseUri}api/studenti/" + Convert.ToInt32(skupina.Id) + "/" + UserToken.Profile.Mail);
				}
				
				IsLoaded = true;
			}
		}
		StateHasChanged();
	}

	//pokud je kapitola uzamčena vypíše prerekvizity, které je nutno splnit i s jejím názvem (v databázi je pouze ID kapitoly)
	private void PrerekvizityShow(vyukovy_pavouk.Data.Kapitola kapitola) {

		hledanePrerekvizity = new List<vyukovy_pavouk.Data.Kapitola>();

		foreach(var prerekvizity in kapitola.KapitolaPrerekvizita) {

			hledanePrerekvizity.Add(Kapitoly.Find(x => x.Id == prerekvizity.prerekvizita.PrerekvizityID));
		}
	}
	//řeší jestli daná kapitola je pro studenta splněna, odemčena či uzamnčena 
	private int Kontroluj(vyukovy_pavouk.Data.Kapitola kapitola) {

		if(Prerekvizity.Count() > 0) {
			Prerekvizity.Clear();
		}
		KapitolaPrerekvizita save = new KapitolaPrerekvizita();
		foreach (var splneni in student.StudentSplneni.Select(x => x.splneni))
		{
			//pokud je splněno 
			if(splneni.KapitolaID == kapitola.Id && student.StudentSplneni.Find(x => x.splneni.Id == splneni.Id).Uspech == true) {
				return 1;
			}
			// neúspěšně splněno
			else if (splneni.KapitolaID == kapitola.Id && student.StudentSplneni.Find(x => x.SplneniID == splneni.Id).Uspech == false)
			{
				return 2; 
			}
			//ukládání pokud je odemčena
			save = kapitola.KapitolaPrerekvizita.Find(x => x.prerekvizita.PrerekvizityID == splneni.KapitolaID);
			if (save != null) {
				Prerekvizity.Add(save);
			}
		}
		//kontrola zdali je odemčena splněné prerekvizity pocet == celkovy pocet prerekvizit v kapitole 
		if(Prerekvizity.Count() == kapitola.KapitolaPrerekvizita.Count()) {
			foreach (KapitolaPrerekvizita kapitolaPrerekvizita in kapitola.KapitolaPrerekvizita)
			{
				int IDKapitolyPrerekvizity = kapitolaPrerekvizita.prerekvizita.PrerekvizityID;
				StudentSplneni studentTestSplneni = new StudentSplneni();
				studentTestSplneni = student.StudentSplneni.Where(x => x.Uspech == false && x.splneni.KapitolaID == IDKapitolyPrerekvizity).SingleOrDefault();
				if(studentTestSplneni != null) {
					return 4;
				}

			}
			return 3;
		}
		//pokud není odemcena je uzamcena 
		else {
			return 4;
		}			
		
	}

}
